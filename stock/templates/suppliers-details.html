{% extends 'base.html' %}
{% block title %}{{ 'Detalhes do Fornecedor' }}{% endblock %}

 {% block extra_head %}
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
    
 
 {% endblock %}

 {%block content%}
 
<section class="w-full mt-20">
    <div class="mb-8">
        <h2 class="text-3xl font-bold text-gray-800 ">Detalhes do Fornecedor</h2>
        <p class="mt-1 text-sm text-gray-600 ">Vizualize e gerencia informações do Fornecedor</p>
    </div>
    <div class="rounded-lg border border-gray-200  bg-white  shadow-sm">
        <div class="p-6">
            <h3 class="text-lg font-semibold text-gray-800  mb-4">Infomação do Fornecedor</h3>
            <dl class="grid grid-cols-2 grid-rows-6 gap-x-4 gap-y-6 ">
                <div class="sm:col-span-1">
                    <dt class="text-sm font-medium text-gray-500 ">Nome Do Fornecedor</dt>
                    <dd class="mt-1 text-sm text-gray-900 ">{{ supplier.supplier_name }}</dd>
                </div>
               
                 <div class="sm:col-span-1">
                    <dt class="text-sm font-medium text-gray-500 ">Rua</dt>
                    <dd class="mt-1 text-sm text-gray-900 ">{{ supplier.street }}
                    </dd>
                </div>
                <div class="sm:col-span-1">
                    <dt class="text-sm font-medium text-gray-500 ">CPF</dt>
                    <dd class="mt-1 text-sm text-gray-900 0">{{ supplier.tax_id }}</dd>
                </div>
                 <div class="sm:col-span-1">
                    <dt class="text-sm font-medium text-gray-500 ">Número:</dt>
                    <dd class="mt-1 text-sm text-gray-900 ">{{ supplier.address_number }}</dd>
                </div>
                <div class="sm:col-span-1">
                    <dt class="text-sm font-medium text-gray-500 ">Email</dt>
                    <dd class="mt-1 text-sm text-gray-900 ">{{ supplier.email }}</dd>
                </div>
                <div class="sm:col-span-1">
                    <dt class="text-sm font-medium text-gray-500 ">Complemento</dt>
                    <dd class="mt-1 text-sm text-gray-900 ">{{ supplier.address_complement }}
                    </dd>
                </div>
                <div class="sm:col-span-1">
                    <dt class="text-sm font-medium text-gray-500 ">Telefone</dt>
                    <dd class="mt-1 text-sm text-gray-900 ">{{ supplier.phone }}</dd>
                </div>
                <div class="sm:col-span-1">
                    <dt class="text-sm font-medium text-gray-500 ">UF</dt>
                    <dd class="mt-1 text-sm text-gray-900 ">{{ supplier.state }}
                    </dd>
                </div>   
               
                <div class="sm:col-span-1">
                    <dt class="text-sm font-medium text-gray-500 ">tipo de doador</dt>
                    <dd class="mt-1 text-sm text-gray-900 ">{{ supplier.supplier_type }}</dd>
                </div>
                 <div class="sm:col-span-1">
                    <dt class="text-sm font-medium text-gray-500 ">Cidade</dt>
                    <dd class="mt-1 text-sm text-gray-900 ">{{ supplier.city }}
                    </dd>
                </div> 
                <div class="sm:col-span-1">
                    <dt class="text-sm font-medium text-gray-500 ">CEP</dt>
                    <dd class="mt-1 text-sm text-gray-900 0">{{ supplier.zip_code }}</dd>
                </div>   
                <div class="sm:col-span-1">
                    <dt class="text-sm font-medium text-gray-500 ">bairro</dt>
                    <dd class="mt-1 text-sm text-gray-900 ">{{ supplier.neighborhood }}
                    </dd>
                </div>  
                   
            </dl>
        </div>
        <div class="flex flex-col gap-4 border-t border-gray-200  bg-primary  p-6 sm:flex-row sm:justify-between sm:items-center">
            <div class="flex gap-3">
                <button
                    class="inline-flex items-center justify-center rounded bg-blue-button/20  px-4 py-2 text-sm font-medium text-blue-button hover:bg-blue-button/30 ">
                    <a href="{% url 'stock:editar_fornecedor' supplier.id_supplier %}">Editar Fornecedor
                </button>
                <button
                    class="inline-flex items-center justify-center rounded bg-red-100  px-4 py-2 text-sm font-medium text-red-600  hover:bg-red-200 " onclick="deletar('{{ supplier.id_supplier }}')">Deletar Fornecedor
                </button>
            </div>
            <button
                class="inline-flex items-center justify-center rounded bg-blue-button px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-button/90">Registrar
                Doação</button>
        </div>
    </div>
</section>
 
 
 
 
 {%endblock%}

 {% block extra_js%}
 <script>
    const deletar = async(id)=>{
        
        const confirmacao = confirm(`Deseja mesmo excluir {{supplier.supplier_name}}`)

        if(!confirmacao){
            return ;
        }
    

        await fetch(`/stock/suppliers/delete/${id}/`,{
        method : 'POST',
        headers :{

            'X-CSRFToken': '{{ csrf_token }}',
            'Content-Type': 'application/json',
        },
        
        })
        window.location.replace("{% url 'sotck_suppliers:Fornecedores'  %}");
    }

 </script>
  
 
 {% endblock %}